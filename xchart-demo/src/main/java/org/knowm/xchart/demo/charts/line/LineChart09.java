/**
 * Copyright 2015-2017 Knowm Inc. (http://knowm.org) and contributors.
 * Copyright 2011-2015 Xeiam LLC (http://xeiam.com) and contributors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.knowm.xchart.demo.charts.line;

import java.awt.Color;

import org.knowm.xchart.SwingWrapper;
import org.knowm.xchart.XYChart;
import org.knowm.xchart.XYChartBuilder;
import org.knowm.xchart.XYSeries;
import org.knowm.xchart.XYSeries.XYSeriesRenderStyle;
import org.knowm.xchart.demo.charts.ExampleChart;
import org.knowm.xchart.style.lines.SeriesLines;
import org.knowm.xchart.style.markers.SeriesMarkers;

/**
 * Y-Axis with Continuous Error Bars
 * <p>
 * Based on Gaussian Process posterior example (http://gaussianprocess.org/gpml/ Figure 2.2(b))
 */
public class LineChart09 implements ExampleChart<XYChart> {

  public static void main(String[] args) {

    ExampleChart<XYChart> exampleChart = new LineChart09();
    XYChart chart = exampleChart.getChart();
    new SwingWrapper<XYChart>(chart).displayChart();
  }

  @Override
  public XYChart getChart() {

    // Create Chart
    XYChart chart = new XYChartBuilder().width(800).height(600).build();

    // Customize Chart
    chart.getStyler().setErrorBarsColor(Color.black);
    chart.getStyler().setErrorBarsContinuous(true);
    chart.getStyler().setMarkerSize(20);
    
    // Series
    double[] xValue = new double[]{-5.0, -4.9, -4.8, -4.7, -4.6, -4.5, -4.4, -4.3, -4.2, -4.1, -4.0, -3.9, -3.8, -3.7, -3.5999999999999996, -3.5, -3.4, -3.3, -3.2, -3.0999999999999996, -3.0, -2.9, -2.8, -2.6999999999999997, -2.5999999999999996, -2.5, -2.4, -2.3, -2.1999999999999997, -2.0999999999999996, -2.0, -1.9, -1.7999999999999998, -1.6999999999999997, -1.5999999999999996, -1.5, -1.4, -1.2999999999999998, -1.1999999999999997, -1.0999999999999996, -1.0, -0.8999999999999995, -0.7999999999999998, -0.7000000000000002, -0.5999999999999996, -0.5, -0.39999999999999947, -0.2999999999999998, -0.1999999999999993, -0.09999999999999964, 0.0, 0.10000000000000053, 0.20000000000000018, 0.3000000000000007, 0.40000000000000036, 0.5, 0.6000000000000005, 0.7000000000000002, 0.8000000000000007, 0.9000000000000004, 1.0, 1.1000000000000005, 1.2000000000000002, 1.3000000000000007, 1.4000000000000004, 1.5, 1.6000000000000005, 1.7000000000000002, 1.8000000000000007, 1.9000000000000004, 2.0, 2.1000000000000005, 2.2, 2.3000000000000007, 2.4000000000000004, 2.5, 2.6000000000000005, 2.7, 2.8000000000000007, 2.9000000000000004, 3.0, 3.0999999999999996, 3.200000000000001, 3.3000000000000007, 3.4000000000000004, 3.5, 3.5999999999999996, 3.700000000000001, 3.8000000000000007, 3.9000000000000004, 4.0, 4.1, 4.200000000000001, 4.300000000000001, 4.4, 4.5, 4.600000000000001, 4.700000000000001, 4.800000000000001, 4.9, 5.0};
    double[] yMean = new double[]{0.6709917201046932, 0.7208206154267199, 0.7663181416571958, 0.8061324376628951, 0.8389672175707749, 0.8636295535285425, 0.8790739797814882, 0.8844403168170122, 0.8790830749143159, 0.8625909561982658, 0.8347957718237581, 0.7957709467260432, 0.7458206094997966, 0.6854609712144634, 0.6153962075308544, 0.5364913175986702, 0.4497444135602685, 0.35626060123426684, 0.25722908350084955, 0.15390441953980705, 0.047592092934071795, -0.06036222202883307, -0.16858095676975288, -0.27566222150567865, -0.3801885647907683, -0.4807387392870919, -0.5759039244922557, -0.6643092507809006, -0.7446406973803793, -0.8156765934887901, -0.8763221408622528, -0.9256446999971897, -0.9629071282415685, -0.9875962894718983, -0.9994440014373615, -0.9984381423378115, -0.9848223610362851, -0.9590837533735055, -0.9219288862002526, -0.8742495656961946, -0.8170806527992516, -0.7515529338517802, -0.6788444884849084, -0.6001341176179391, -0.5165601926114177, -0.4291877842424252, -0.33898617764971517, -0.2468179490990734, -0.15343975875426125, -0.05951399235959737, 0.03437054752644886, 0.12767146532667434, 0.21986221249909643, 0.31040151222795553, 0.39870611662476574, 0.4841299411713315, 0.5659520623721872, 0.6433752966842201, 0.715536164087159, 0.7815260517851924, 0.8404224121399123, 0.8913279338939057, 0.933414891046811, 0.9659713615195196, 0.988445762796728, 1.0004861971754686, 1.0019714336872545, 0.9930309506352936, 0.9740522719058786, 0.9456747822478563, 0.908770218848038, 0.8644110207026142, 0.8138285887171957, 0.758364195096167, 0.6994157262848074, 0.638383619465125, 0.5766192548607987, 0.5153787173126135, 0.45578428571553303, 0.3987953096741447, 0.3451893602127625, 0.2955537680526108, 0.25028695515221294, 0.20960837676409697, 0.17357545927729381, 0.14210566186347984, 0.1150017071636319, 0.09197810144675575, 0.07268726893869805, 0.056743921718959534, 0.04374663621193469, 0.03329597192676396, 0.025008814934771837, 0.018528932354177907, 0.013533968262154444, 0.00973928807403969, 0.0068991873494460235, 0.004806028177582028, 0.003287861957030961, 0.0022050539911666247, 0.0014463558651907906};
    double[] yConf = new double[]{1.3501585830241, 1.2168188128439872, 1.0687978199528372, 0.9070922172365904, 0.7332018708876813, 0.5491000307138211, 0.35717750119018465, 0.1601639690172171, 0.03896855015812571, 0.23711369043567587, 0.43114269850869924, 0.6180125792091046, 0.7948629592271997, 0.9590952518830579, 1.1084294112540343, 1.24093580402489, 1.3550423067012825, 1.449519391960238, 1.5234483874496185, 1.5761799400721026, 1.6072906947581995, 1.616546086578416, 1.603875889836188, 1.5693669025522983, 1.5132741971777888, 1.4360492063332102, 1.3383800499229843, 1.221237398826013, 1.085918110308144, 0.9340789635430183, 0.7677539796270214, 0.5893507897731604, 0.4016239913544928, 0.20762605025823955, 0.010638734804723125, 0.18590998397417252, 0.37853737580857255, 0.5637991244605463, 0.7383780688536415, 0.8991636209189748, 1.0433188912758549, 1.1683348510825478, 1.2720731622843084, 1.3528011992332962, 1.409223855841702, 1.4405166736723605, 1.4463635067055611, 1.4269994665636136, 1.3832566296974182, 1.3166065056817924, 1.2291902431148722, 1.1238256463127962, 1.0039798029569178, 0.873697744600911, 0.7374810477954364, 0.6001153110362689, 0.4664514448081558, 0.34115195502614093, 0.2284190785708013, 0.13172596620702237, 0.0535744509905673, 0.004697152971881961, 0.04303547469750061, 0.06270715142931106, 0.06623913811367446, 0.05726436163846764, 0.04028172681654934, 0.02034781495368823, 0.0027244294412282015, 0.007489352911131637, 0.005710299858023393, 0.01181964106693202, 0.04779248956430464, 0.10367991677953402, 0.17967524812031618, 0.274732592073334, 0.3866952053429995, 0.5124976902032842, 0.6484210119034617, 0.7903760885806241, 0.9341910122008269, 1.0758786806041618, 1.2118653776439157, 1.3391660661108937, 1.4554981936925577, 1.5593319824676821, 1.6498808707683956, 1.7270405179165162, 1.7912882335457796, 1.8435566755259316, 1.8850961386452194, 1.917338820667358, 1.9417763064871385, 1.959858464313434, 1.9729184053170852, 1.9821245899857123, 1.9884580419731765, 1.9927103378657849, 1.9954967915353312, 1.9972790416411903, 1.9983918817497437};
    XYSeries model = chart.addSeries("Model fit", xValue, yMean, yConf);
    model.setLineStyle(SeriesLines.DASH_DASH).setLineColor(Color.GRAY);
    model.setMarker(SeriesMarkers.NONE);

    // Observations (do last to avoid being painted under the error curve)
    double[][] trainingPoints = new double[][] {{1.819488881547569, -4.2195587468232905, 1.0904455462879739, 2.0447515497467537, -1.5946087578476464}, {0.9692350606135227, 0.8809973453661154, 0.8868328850783077, 0.889770052891358, -0.9997164974603068}};
    chart.addSeries("Observations", trainingPoints[0], trainingPoints[1]).setXYSeriesRenderStyle(XYSeriesRenderStyle.Scatter).setMarker(SeriesMarkers.PLUS).setMarkerColor(Color.BLUE);

    
    return chart;
  }
}
